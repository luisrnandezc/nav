{% load static %}

<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>NAV | Evaluación de vuelo</title>
    <link href="{% static 'flight_evaluation.css' %}" rel="stylesheet" />
    <link href="{% static 'shared_components.css' %}" rel="stylesheet" />
    <script src="{% static 'js/flight_evaluation_dynamics.js' %}"></script>
  </head>

  <body>
    <div class="main-container">

      <div class="back-button">
        <a href="{% url 'fms:form_selection' %}" class="button">&larr; Volver</a>
      </div>
      
      <h1 class="main-header">Evaluación de vuelo 0-100 horas</h1>
      <form class="form-container" method="post"  action="{% url 'fms:flight_evaluation_0_100' %}">
        {% csrf_token %}
        <h1 class="subsection-header">Sección 1: Datos del instructor</h1>
        <div class="fixed-fields-container">
          <div class="left-column">
            <div class="form-row">
              {{ form.instructor_id.label_tag }}
              {{ form.instructor_id }}
            </div>
            <div class="form-row">
              {{ form.instructor_first_name.label_tag }}
              {{ form.instructor_first_name }}
            </div>
            <div class="form-row">
              {{ form.instructor_last_name.label_tag }}
              {{ form.instructor_last_name }}
            </div>
          </div>
          <div class="right-column">
            <div class="form-row">
              {{ form.instructor_license_type.label_tag }}
              {{ form.instructor_license_type }}
            </div>
            <div class="form-row">
              {{ form.instructor_license_number.label_tag }}
              {{ form.instructor_license_number }}
            </div>
          </div>
        </div>
        <h1 class="subsection-header">Sección 2: Datos del alumno</h1>
        <div class="fixed-fields-container">
          <div class="left-column">
            <div class="form-row">
              {{ form.student_id.label_tag }}
              {{ form.student_id }}
            </div>
            <div class="form-row">
              {{ form.student_first_name.label_tag }}
              {{ form.student_first_name }}
            </div>
            <div class="form-row">
              {{ form.student_last_name.label_tag }}
              {{ form.student_last_name }}
            </div>
          </div>
          <div class="right-column">
            <div class="form-row">
              {{ form.student_license_type.label_tag }}
              {{ form.student_license_type }}
            </div>
            <div class="form-row">
              {{ form.course_type.label_tag }}
              {{ form.course_type }}
            </div>
          </div>
        </div>
        <h1 class="subsection-header">Sección 3: Datos de la sesión</h1>
        <div class="fixed-fields-container">
          <div class="left-column">
            <div class="form-row">
              {{ form.flight_rules.label_tag }}
              {{ form.flight_rules }}
            </div>
            <div class="form-row">
              {{ form.solo_flight.label_tag }}
              {{ form.solo_flight }}
            </div>
            <div class="form-row">
              {{ form.session_number.label_tag }}
              {{ form.session_number }}
            </div>
            <div class="form-row">
              {{ form.session_letter.label_tag }}
              {{ form.session_letter }}
            </div>
            <div class="form-row">
              {{ form.session_date.label_tag }}
              {{ form.session_date }}
            </div>
            <div class="form-row">
              {{ form.accumulated_flight_hours.label_tag }}
              {{ form.accumulated_flight_hours }}
            </div>
          </div>
          <div class="right-column">
            <div class="form-row">
              {{ form.initial_hourmeter.label_tag }}
              {{ form.initial_hourmeter }}
            </div>
            <div class="form-row">
              {{ form.final_hourmeter.label_tag }}
              {{ form.final_hourmeter }}
            </div>
            <div class="form-row">
              {{ form.fuel_consumed.label_tag }}
              {{ form.fuel_consumed }}
            </div>
            <div class="form-row">
              {{ form.aircraft.label_tag }}
              {{ form.aircraft }}
            </div>
            <div class="form-row">
              {{ form.session_grade.label_tag }}
              {{ form.session_grade }}
            </div>
          </div>
        </div>
        <h1 class="subsection-header">Sección 4: Prevuelo / Encendido / Taxeo</h1>
        <div class="fixed-fields-container">
          <div class="left-column">
            <div class="form-row">
              {{ form.pre_1.label_tag }}
              {{ form.pre_1 }}
            </div>
            <div class="form-row">
              {{ form.pre_2.label_tag }}
              {{ form.pre_2 }}
            </div>
            <div class="form-row">
              {{ form.pre_3.label_tag }}
              {{ form.pre_3 }}
            </div>
          </div>
          <div class="right-column">
            <div class="form-row">
              {{ form.pre_4.label_tag }}
              {{ form.pre_4 }}
            </div>
            <div class="form-row">
              {{ form.pre_5.label_tag }}
              {{ form.pre_5 }}
            </div>
            <div class="form-row">
              {{ form.pre_6.label_tag }}
              {{ form.pre_6 }}
            </div>
          </div>
        </div>
        <h1 class="subsection-header">Sección 5: Despegue - Salida</h1>
        <details>
          <summary>Ver sección</summary>
          <div class="collapsible-section">
            <div class="left-column">
              <div class="form-row">
                {{ form.to_1.label_tag }}
                {{ form.to_1 }}
              </div>
              <div class="form-row">
                {{ form.to_2.label_tag }}
                {{ form.to_2 }}
              </div>
              <div class="form-row">
                {{ form.to_3.label_tag }}
                {{ form.to_3 }}
              </div>
            </div>
            <div class="right-column">
              <div class="form-row">
                {{ form.to_4.label_tag }}
                {{ form.to_4 }}
              </div>
              <div class="form-row">
                {{ form.to_5.label_tag }}
                {{ form.to_5 }}
              </div>
              <div class="form-row">
                {{ form.to_6.label_tag }}
                {{ form.to_6 }}
              </div>
            </div>
          </div>
        </details>
        <h1 class="subsection-header">Sección 6: Maniobras</h1>
        <details>
          <summary>Ver sección</summary>
          <div class="collapsible-section">
            <div class="left-column">
              <div class="form-row">
                {{ form.mvrs_1.label_tag }}
                {{ form.mvrs_1 }}
              </div>
              <div class="form-row">
                {{ form.mvrs_2.label_tag }}
                {{ form.mvrs_2 }}
              </div>
              <div class="form-row">
                {{ form.mvrs_3.label_tag }}
                {{ form.mvrs_3 }}
              </div>
              <div class="form-row">
                {{ form.mvrs_4.label_tag }}
                {{ form.mvrs_4 }}
              </div>
              <div class="form-row">
                {{ form.mvrs_5.label_tag }}
                {{ form.mvrs_5 }}
              </div>
              <div class="form-row">
                {{ form.mvrs_6.label_tag }}
                {{ form.mvrs_6 }}
              </div>
              <div class="form-row">
                {{ form.mvrs_7.label_tag }}
                {{ form.mvrs_7 }}
              </div>
              <div class="form-row">
                {{ form.mvrs_8.label_tag }}
                {{ form.mvrs_8 }}
              </div>
              <div class="form-row">
                {{ form.mvrs_9.label_tag }}
                {{ form.mvrs_9 }}
              </div>
            </div>
            <div class="right-column">
              <div class="form-row">
                {{ form.mvrs_10.label_tag }}
                {{ form.mvrs_10}}
              </div>
              <div class="form-row">
                {{ form.mvrs_11.label_tag }}
                {{ form.mvrs_11 }}
              </div>
              <div class="form-row">
                {{ form.mvrs_12.label_tag }}
                {{ form.mvrs_12 }}
              </div>
              <div class="form-row">
                {{ form.mvrs_13.label_tag }}
                {{ form.mvrs_13 }}
              </div>
              <div class="form-row">
                {{ form.mvrs_14.label_tag }}
                {{ form.mvrs_14 }}
              </div>
              <div class="form-row">
                {{ form.mvrs_15.label_tag }}
                {{ form.mvrs_15 }}
              </div>
              <div class="form-row">
                {{ form.mvrs_16.label_tag }}
                {{ form.mvrs_16 }}
              </div>
              <div class="form-row">
                {{ form.mvrs_17.label_tag }}
                {{ form.mvrs_17 }}
              </div>
              <div class="form-row">
                {{ form.mvrs_18.label_tag }}
                {{ form.mvrs_18 }}
              </div>
            </div>
          </div>
        </details>
        <h1 class="subsection-header">Sección 7: Navegación VFR</h1>
        <details>
          <summary>Ver sección</summary>
          <div class="collapsible-section">
            <div class="left-column">
              <div class="form-row">
                {{ form.nav_1.label_tag }}
                {{ form.nav_1 }}
              </div>
              <div class="form-row">
                {{ form.nav_2.label_tag }}
                {{ form.nav_2 }}
              </div>
              <div class="form-row">
                {{ form.nav_3.label_tag }}
                {{ form.nav_3 }}
              </div>
            </div>
            <div class="right-column">
              <div class="form-row">
                {{ form.nav_4.label_tag }}
                {{ form.nav_4 }}
              </div>
              <div class="form-row">
                {{ form.nav_5.label_tag }}
                {{ form.nav_5 }}
              </div>
              <div class="form-row">
                {{ form.nav_6.label_tag }}
                {{ form.nav_6 }}
              </div>
            </div>
          </div>
        </details>
        <h1 class="subsection-header">Sección 8: Circuito / Procedimiento</h1>
        <details>
          <summary>Ver sección</summary>
          <div class="collapsible-section">
            <div class="left-column">
              <div class="form-row">
                {{ form.land_1.label_tag }}
                {{ form.land_1 }}
              </div>
              <div class="form-row">
                {{ form.land_2.label_tag }}
                {{ form.land_2 }}
              </div>
              <div class="form-row">
                {{ form.land_3.label_tag }}
                {{ form.land_3 }}
              </div>
              <div class="form-row">
                {{ form.land_4.label_tag }}
                {{ form.land_4 }}
              </div>
              <div class="form-row">
                {{ form.land_5.label_tag }}
                {{ form.land_5 }}
              </div>
            </div>
            <div class="right-column">
              <div class="form-row">
                {{ form.land_6.label_tag }}
                {{ form.land_6 }}
              </div>
              <div class="form-row">
                {{ form.land_7.label_tag }}
                {{ form.land_7 }}
              </div>
              <div class="form-row">
                {{ form.land_8.label_tag }}
                {{ form.land_8 }}
              </div>
              <div class="form-row">
                {{ form.land_9.label_tag }}
                {{ form.land_9 }}
              </div>
              <div class="form-row">
                {{ form.land_10.label_tag }}
                {{ form.land_10}}
              </div>
            </div>
          </div>
        </details>
        <h1 class="subsection-header">Sección 9: Emergencias</h1>
        <details>
          <summary>Ver sección</summary>
          <div class="collapsible-section">
            <div class="left-column">
              <div class="form-row">
                {{ form.emer_1.label_tag }}
                {{ form.emer_1 }}
              </div>
              <div class="form-row">
                {{ form.emer_2.label_tag }}
                {{ form.emer_2 }}
              </div>
              <div class="form-row">
                {{ form.emer_3.label_tag }}
                {{ form.emer_3 }}
              </div>
            </div>
            <div class="right-column">
              <div class="form-row">
                {{ form.emer_4.label_tag }}
                {{ form.emer_4 }}
              </div>
              <div class="form-row">
                {{ form.emer_5.label_tag }}
                {{ form.emer_5 }}
              </div>
              <div class="form-row">
                {{ form.emer_6.label_tag }}
                {{ form.emer_6 }}
              </div>
            </div>
          </div>
        </details>
        <h1 class="subsection-header">Sección 10: General</h1>
        <details>
          <summary>Ver sección</summary>
          <div class="collapsible-section">
            <div class="left-column">
              <div class="form-row">
                {{ form.gen_1.label_tag }}
                {{ form.gen_1 }}
              </div>
              <div class="form-row">
                {{ form.gen_2.label_tag }}
                {{ form.gen_2 }}
              </div>
              <div class="form-row">
                {{ form.gen_3.label_tag }}
                {{ form.gen_3 }}
              </div>
              <div class="form-row">
                {{ form.gen_4.label_tag }}
                {{ form.gen_4 }}
              </div>
            </div>
            <div class="right-column">
              <div class="form-row">
                {{ form.gen_5.label_tag }}
                {{ form.gen_5 }}
              </div>
              <div class="form-row">
                {{ form.gen_6.label_tag }}
                {{ form.gen_6 }}
              </div>
              <div class="form-row">
                {{ form.gen_7.label_tag }}
                {{ form.gen_7 }}
              </div>
            </div>
          </div>
        </details>
        <h1 class="subsection-header">Sección 11: Comentarios (opcional)</h1>
        <div class="form-row comments-row">
          {{ form.comments }}
        </div>
        <h1 class="subsection-header">Sección 12: Reporte de discrepancia</h1>
        <details>
          <summary>Ver sección</summary>
          <div class="collapsible-section" id="discrepancy-section">
            <div class="form-row" id="discrepancy-type-field">
              {{ form.discrepancy_type.label_tag }}
              {{ form.discrepancy_type }}
            </div>
            <div class="form-row">
              {{ form.discrepancy_description }}
            </div>
          </div>
        </details>

        <div class="submit-button-container">
          <button class="submit-button" type="submit" onclick="return confirmSubmission()">Enviar</button>
        </div>
        
        {% if messages %}
        <div class="messages">
            {% for message in messages %}
                <div class="message message-{{ message.tags }}">
                    {{ message }}
                </div>
            {% endfor %}
        </div>
        {% endif %}
        
        {% if form.errors %}
        <div class="form-errors">
            <h3>Errores encontrados:</h3>
            <ul>
                {% for field, errors in form.errors.items %}
                    {% for error in errors %}
                        <li>{{ error }}</li>
                    {% endfor %}
                {% endfor %}
            </ul>
        </div>
        {% endif %}
      </form>
    </div>
  </body>
</html>